{
  "files_to_modify": {
    "backend": [
      "apps/backend/analysis/analyzers/__init__.py",
      "apps/backend/analysis/__init__.py"
    ]
  },
  "files_to_create": {
    "backend": [
      "apps/backend/analysis/analyzers/code_quality_analyzer.py",
      "apps/backend/analysis/code_quality_tracker.py"
    ],
    "tests": [
      "tests/test_code_quality_analyzer.py"
    ]
  },
  "files_to_reference": [
    "apps/backend/analysis/security_scanner.py",
    "apps/backend/analysis/analyzers/base.py",
    "apps/backend/analysis/analyzers/framework_analyzer.py",
    "apps/backend/analysis/risk_classifier.py"
  ],
  "patterns": {
    "analyzer_pattern": "All analyzers inherit from BaseAnalyzer and use _exists, _read_file, _read_json methods",
    "dataclass_pattern": "Use @dataclass for structured results with type hints",
    "tool_integration": "External tools invoked via subprocess with JSON output parsing (see security_scanner.py)",
    "module_exports": "__init__.py files use __all__ for explicit exports"
  },
  "existing_implementations": {
    "description": "Found existing analysis module with security_scanner.py, risk_classifier.py. Frontend already has CodeQualityIdea type with metrics field (complexity, lineCount, duplicateLines, testCoverage) and CodeQualityDetails.tsx component to display them.",
    "relevant_files": [
      "apps/backend/analysis/security_scanner.py",
      "apps/backend/analysis/analyzers/base.py",
      "apps/frontend/src/shared/types/insights.ts",
      "apps/frontend/src/renderer/components/ideation/details/CodeQualityDetails.tsx"
    ],
    "frontend_ready": true,
    "frontend_notes": "UI already supports displaying metrics - just need backend to compute them"
  },
  "technology_decisions": {
    "python_metrics_tool": "radon",
    "rationale": "Radon is the standard Python tool for cyclomatic complexity, maintainability index, and code metrics",
    "storage": "JSON files in .auto-claude/metrics/ directory for trend tracking",
    "sonarqube": "Optional integration via API if SONARQUBE_URL environment variable is set"
  }
}
